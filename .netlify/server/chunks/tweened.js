import{w as O}from"./index.js";import{j as w,k as j}from"./ssr.js";import{n as b,l as k,i as g}from"./utils.js";function P(t){const r=t-1;return r*r*r+1}function T(t){return t===1?t:1-Math.pow(2,-10*t)}function D(t){return--t*t*t*t*t+1}function a(t,r){if(t===r||t!==t)return()=>t;const s=typeof t;if(s!==typeof r||Array.isArray(t)!==Array.isArray(r))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=r.map((n,e)=>a(t[e],n));return n=>i.map(e=>e(n))}if(s==="object"){if(!t||!r)throw new Error("Object cannot be null");if(g(t)&&g(r)){t=t.getTime(),r=r.getTime();const e=r-t;return o=>new Date(t+o*e)}const i=Object.keys(r),n={};return i.forEach(e=>{n[e]=a(t[e],r[e])}),e=>{const o={};return i.forEach(f=>{o[f]=n[f](e)}),o}}if(s==="number"){const i=r-t;return n=>t+n*i}throw new Error(`Cannot interpolate ${s} values`)}function M(t,r={}){const s=O(t);let i,n=t;function e(o,f){if(t==null)return s.set(t=o),Promise.resolve();n=o;let u=i,p=!1,{delay:h=0,duration:c=400,easing:A=j,interpolate:E=a}=w(w({},r),f);if(c===0)return u&&(u.abort(),u=null),s.set(t=n),Promise.resolve();const l=b()+h;let m;return i=k(y=>{if(y<l)return!0;p||(m=E(t,o),typeof c=="function"&&(c=c(t,o)),p=!0),u&&(u.abort(),u=null);const d=y-l;return d>c?(s.set(t=o),!1):(s.set(t=m(A(d/c))),!0)}),i.promise}return{set:e,update:(o,f)=>e(o(n,t),f),subscribe:s.subscribe}}export{P as c,T as e,D as q,M as t};
